<!doctype html>
<html class="no-js" lang="">

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="./css/bootstrap.min.css">
        <style>
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
            img {
              height: 100px;
              display: block;
            }
            img: hover{

            }
        </style>
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
<body>
<div class="dropdown">
  <button onclick="dropdownFunction()" class="dropbtn">Filter</button>
  <div id="myDropdown" class="dropdown-content">
      <a onclick="sortFunction('hard','myUL')">Hard</a>
      <a onclick="sortFunction('medium','myUL')">Medium</a>
      <a onclick="sortFunction('easy','myUL')">Easy</a>
      <a onclick="sortFunction('board','myUL')">Boardgame</a>
      <a onclick="sortFunction('card','myUL')">Card Game</a>
      <a onclick="sortFunction('player1','myUL')">One Player</a>
      <a onclick="sortFunction('player2','myUL')">Two Player</a>
      <a onclick="sortFunction('player3','myUL')">Boardgame</a>
      <a onclick="sortFunction('coop','myUL')">Co-Op</a>
      <a onclick="sortFunction('competitvie','myUL')">Boardgame</a>
    </div>
</div>
<style type="text/css">/* Dropdown Button */
.dropbtn {
  background-color: #3498DB;
  color: white;
  border: none;
  cursor: pointer;
}

/* Dropdown button on hover & focus */
.dropbtn:hover, .dropbtn:focus {
  background-color: #2980B9;
}

/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd}

/* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
.show {display:block;}</style>

<button onclick="randomFunction('myUL')">Random</button>
<input type="text" id="myInput" onkeyup="searchFunction('myUL', 'myInput')" placeholder="Search for...">
<h1>Boardgame List</h1>

<!-- Resources -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/kelly.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->
<script>
function callAmChart() {

document.getElementById("chartdiv").style.width = "100%";
document.getElementById("chartdiv").style.height = "500px";

// Themes begin
am4core.useTheme(am4themes_kelly);
am4core.useTheme(am4themes_animated);
// Themes end

// Create chart instance
var chart = am4core.create("chartdiv", am4charts.PieChart);


// count Vars
var architectureCount=0, brickheadzCount=0, creatorCount=0, friendsCount=0, hiddensideCount=0, holidayCount=0, ideasCount=0, jurassicparkCount=0, lotrCount=0, movieCount=0, ninjagoCount=0, promotionalCount=0, starwarsCount=0, technicCount=0, townCount=0, unikittyCount=0, xtraCount=0, harrypotterCount=0, marvelCount=0; dotsCount=0; otherCount=0; marioCount=0;
var cardCountHard =0, cardCountMedium=0, cardCountEasy=0, boardCountHard=0, boardCountMedium=0, boardCountEasy=0;

var theme=[];
var themecount=[2,3];

//count lego theme types
var input, filter, ol, li, a, i, txtValue;
    // input = document.getElementById(inputid);
    // filter = input.value.toUpperCase();
    var input, ol, li, a, i, txtValue;
    ul = document.getElementById('myUL');
    li = ul.getElementsByTagName("li");

    otherString = "";
    for (i = 0; i < li.length; i++) {

        hasFoundTheme = false;
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.className;

        for (x = 0; x < theme.length; x++) {
          if (txtValue.includes(theme[x])){
            themecount[x]++;
            x= theme.length;
          }
          else{
            theme[theme.length+1](txtValue);
            themecount[theme.length+1](1);
          }

        }// end of x for loop
        if (txtValue.includes('hard')&&txtValue.includes('card')) {
            cardCountHard++;
            hasFoundTheme = true;
        }
        if (txtValue.includes('medium')&&txtValue.includes('card')) {
            cardCountMedium++;
            hasFoundTheme = true;
        }
        if (txtValue.includes('easy')&&txtValue.includes('card')) {
            cardCountEasy++;
            hasFoundTheme = true;
        }
        if (txtValue.includes('hard')&&txtValue.includes('board')) {
            boardCountHard++;
            hasFoundTheme = true;
        }
        if (txtValue.includes('medium')&&txtValue.includes('board')) {
            boardCountMedium++;
            hasFoundTheme = true;
        }
        if (txtValue.includes('easy')&&txtValue.includes('board')) {
            boardCountEasy++;
            hasFoundTheme = true;
        }
        if (hasFoundTheme === false)
        {
          otherCount++;
          otherString += " "+txtValue;
          console.log(txtValue);
        }
    }// end of i for loop

// Add data
// for (x = 0; x < theme.length; x++) {
//   chart.data[x][0] = theme[x];
//   chart.data[x][1] = themecount[x];
// }

chart.data = [ {
  "game": "board",
  "hard": boardCountHard,
  "medium": boardCountMedium,
  "easy": boardCountEasy,
  "total": boardCountEasy+boardCountMedium+boardCountHard
}, {
  "game": "card",
  "hard": cardCountHard,
  "medium": cardCountMedium,
  "easy": cardCountEasy,
  "total": cardCountEasy+cardCountMedium+cardCountHard
} ];

// Set inner radius
chart.innerRadius = am4core.percent(50);

// Add and configure Series
var pieSeries = chart.series.push(new am4charts.PieSeries());
pieSeries.dataFields.value = "hard";
pieSeries.dataFields.category = "game";
pieSeries.slices.template.stroke = am4core.color("#fff");
pieSeries.slices.template.strokeWidth = 2;
pieSeries.slices.template.strokeOpacity = 1;

// This creates initial animation
pieSeries.hiddenState.properties.opacity = 1;
pieSeries.hiddenState.properties.endAngle = -90;
pieSeries.hiddenState.properties.startAngle = -90;

// Disabling labels and ticks on inner circle
pieSeries.labels.template.disabled = true;
pieSeries.ticks.template.disabled = true;

// Disable sliding out of slices
pieSeries.slices.template.states.getKey("hover").properties.shiftRadius = 0;
pieSeries.slices.template.states.getKey("hover").properties.scale = 0.9;

// Add second series
var pieSeries2 = chart.series.push(new am4charts.PieSeries());
pieSeries2.dataFields.value = "easy";
pieSeries2.dataFields.category = "game";
pieSeries2.slices.template.stroke = am4core.color("#fff");
pieSeries2.slices.template.strokeWidth = 2;
pieSeries2.slices.template.strokeOpacity = 1;
pieSeries2.slices.template.states.getKey("hover").properties.shiftRadius = 0;
pieSeries2.slices.template.states.getKey("hover").properties.scale = 1.1;

// Disabling labels and ticks on inner circle
pieSeries2.labels.template.disabled = true;
pieSeries2.ticks.template.disabled = true;

var pieSeries3 = chart.series.push(new am4charts.PieSeries());
pieSeries3.dataFields.value = "medium";
pieSeries3.dataFields.category = "game";
pieSeries3.slices.template.stroke = am4core.color("#fff");
pieSeries3.slices.template.strokeWidth = 2;
pieSeries3.slices.template.strokeOpacity = 1;
pieSeries3.slices.template.states.getKey("hover").properties.shiftRadius = 0;
pieSeries3.slices.template.states.getKey("hover").properties.scale = 1.1;

// Disabling labels and ticks on inner circle
pieSeries3.labels.template.disabled = true;
pieSeries3.ticks.template.disabled = true;

var pieSeries4 = chart.series.push(new am4charts.PieSeries());
pieSeries4.dataFields.value = "total";
pieSeries4.dataFields.category = "game";
pieSeries4.slices.template.stroke = am4core.color("#fff");
pieSeries4.slices.template.strokeWidth = 2;
pieSeries4.slices.template.strokeOpacity = 1;
pieSeries4.slices.template.states.getKey("hover").properties.shiftRadius = 0;
pieSeries4.slices.template.states.getKey("hover").properties.scale = 1.1;

} // end am4core.ready()
</script>

<!-- HTML -->
<div id="chartdiv"></div>
<button type="button" onclick="callAmChart()">Chart</button>
<button type="button" onclick="loadXMLDoc()">Get My Boradgame Collection</button>
<br><br>
<ol id="myUL"></ol>

<script>
function searchFunction(elementid, inputid) {
    var input, filter, ol, li, a, i, txtValue;
    input = document.getElementById(inputid);
    filter = input.value.toUpperCase();
    ul = document.getElementById(elementid);
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
function randomFunction(elementid){
  ul = document.getElementById(elementid);
  li = ul.getElementsByTagName("li");
  var rand = Math.floor(Math.random()*li.length);
  loop = true;
  while (loop){
      if (li[rand].style.display === ""){
          for (i = 0; i < li.length; i++) {
                if (i == rand) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
           loop = false;
        }
        else{
            rand = Math.floor(Math.random()*li.length);
            loop= true;
        }
    }
}
function sortFunction(filter, elementid){
  var input, ol, li, a, i, txtValue;
    ul = document.getElementById(elementid);
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.className;
        if (txtValue.includes(filter)) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
function filterFunction(filter, elementid){
  var input, ol, li, a, i, txtValue;
    ul = document.getElementById(elementid);
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.className;
        if (txtValue.includes(filter)) {
            li[i].style.display = "none";
        } else {
            // li[i].style.background = "";
        }
    }
}
function markasplayedFunction(elementid){
  var input, ol, li, a, i, txtValue;
    ul = document.getElementById(elementid);
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.className;
        if (li[i].style.display === "") {
            // li[i].classList.remove("notplayed");
            // li[i].classList.add("deyalp");
            a.className = a.className.replace("notplayed", "deyalp");
        } else {
            // li[i].style.background = "black";
        }
    }
}
function dropdownFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown menu if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

</script>

  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https:browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <script src="js/vendor/modernizr-3.7.1.min.js"></script>
  <script src="https:/code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\/script>')</script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>

  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script src="https:/www.google-analytics.com/analytics.js" async></script>
<script>
function loadXMLDoc() {
  var xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myFunction(this);
    }
  };
  xmlhttp.open("GET", "game_catalog.xml", true);
  xmlhttp.send();
}
function myFunction(xml) {
  var i;
  var xmlDoc = xml.responseXML;
  var table='<div class="container">';
  var x = xmlDoc.getElementsByTagName("GAME");
  for (i = 0; i <x.length; i++) {
    table += '<li><a class="' +
    x[i].getElementsByTagName("DIFFICULTY")[0].childNodes[0].nodeValue+' '+ x[i].getElementsByTagName("TYPE")[0].childNodes[0].nodeValue

    +'" href="'+x[i].getElementsByTagName("LINK")[0].childNodes[0].nodeValue+'">'+

    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue+"</a>"+

    '<img src="'+x[i].getElementsByTagName("IMAGE")[0].childNodes[0].nodeValue+'"/>'+
    ''+x[i].getElementsByTagName("DESCRIPTION")[0].childNodes[0].nodeValue+''+
    +"</li>";
  }
  table += "</div>";
  document.getElementById("myUL").innerHTML = table;
}
</script>

</body>
</html>
